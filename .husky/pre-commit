#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo 'ğŸ¦º Styling, testing and building your project before committing'

npm run ts:check ||
  (
    echo 'ğŸš§ Typescript Types Checks Failed. ğŸš§'
    false
  )
npm run lint-staged ||
  (
    echo 'ğŸ›‘ ESLint Check Failed. ğŸ›‘'
    false
  )
npm run db:lint -w @messaging/supabase ||
  (
    echo 'ğŸš¨ Database integrity Check Failed. ğŸš¨'
    false
  )

echo 'âœ… All checks passed.  Proceeding with commit ğŸ—ï¸'